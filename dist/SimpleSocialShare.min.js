"use strict";var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,a=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var SimpleSocialShare=function(){function t(e){_classCallCheck(this,t);this.defaults=Object.assign({},{facebook:"",twitter:"",googleplus:"",email:{selector:"",recipient:"",subject:"",cc:"",bcc:"",body:""}},e),this._shareLink={facebook:"https://www.facebook.com/sharer/sharer.php?u=",twitter:"https://twitter.com/home?status=",googleplus:"https://plus.google.com/share?url="},this.initShare(this.defaults.facebook,"facebook"),this.initShare(this.defaults.twitter,"twitter"),this.initShare(this.defaults.googleplus,"googleplus"),this.initShare(this.defaults.email.selector,"email")}return _createClass(t,[{key:"_getElement",value:function(e){if(""===e)return!1;switch(e.charAt(0)){case"#":return document.getElementById(e.substring(1));case".":return document.getElementsByClassName(e.substring(1));default:return document.querySelectorAll(e)}}},{key:"_getShareLink",value:function(e){return this._shareLink[e]}},{key:"initShare",value:function(e,t){var r=this,i=this._getElement(e);0<i.length&&Array.from(i).forEach(function(e){e.addEventListener("click",r.bindClick.bind(r,t))})}},{key:"bindClick",value:function(e,t){"email"===e?this.emailClick(t):window.open(""+this._getShareLink(e)+encodeURIComponent(location.href),"_blank")}},{key:"emailClick",value:function(e){var t=["mailto:"],r=e.currentTarget.dataset;if(this.emailDefaults=Object.assign({},r,this.defaults.email),void 0===this.emailDefaults.recipient||""===this.emailDefaults.recipient)return!1;t.push(this.emailDefaults.recipient+"?");var i=!0,a=!1,n=void 0;try{for(var s,o=Object.entries(this.emailDefaults).reverse()[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value,c=_slicedToArray(l,2),u=c[0],h=c[1];switch(void 0!==r[u]&&(h=r[u]),u){case"cc":t.push("&cc="+h);break;case"bcc":t.push("&bcc="+h);break;case"subject":t.push("&subject="+encodeURIComponent(h));break;case"body":t.push("&body="+encodeURIComponent(h))}}}catch(e){a=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw n}}location.href=t}}]),t}();