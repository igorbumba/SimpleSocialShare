"use strict";var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var SimpleSocialShare=function(){function t(e){_classCallCheck(this,t);this.defaults=Object.assign({},{facebook:"",twitter:"",googleplus:"",email:{selector:"",recipient:"",subject:"",cc:"",bcc:"",body:""}},e),this._shareLink={facebook:"https://www.facebook.com/sharer/sharer.php?u=",twitter:"https://twitter.com/home?status=",googleplus:"https://plus.google.com/share?url="},this.initFacebook(),this.initTwitter(),this.initGooglePlus(),this.initEmail()}return _createClass(t,[{key:"_getElement",value:function(e){if(""===e)return!1;switch(e.charAt(0)){case"#":return document.getElementById(e.substring(1));case".":return document.getElementsByClassName(e.substring(1));default:return document.querySelectorAll(e)}}},{key:"_getShareLink",value:function(e){return this._shareLink[e]}},{key:"getFacebookElements",value:function(){return this._getElement(this.defaults.facebook)}},{key:"getTwitterElements",value:function(){return this._getElement(this.defaults.twitter)}},{key:"getGooglePlusElements",value:function(){return this._getElement(this.defaults.googleplus)}},{key:"getEmailElements",value:function(){return this._getElement(this.defaults.email.selector)}},{key:"initFacebook",value:function(){var t=this;0<this.getFacebookElements().length&&Array.from(this.getFacebookElements()).forEach(function(e){e.addEventListener("click",t.facebookClick.bind(t))})}},{key:"facebookClick",value:function(e){e.preventDefault(),window.open(""+this._getShareLink("facebook")+encodeURIComponent(location.href),"_blank")}},{key:"initTwitter",value:function(){var t=this;0<this.getTwitterElements().length&&Array.from(this.getTwitterElements()).forEach(function(e){e.addEventListener("click",t.twitterClick.bind(t))})}},{key:"twitterClick",value:function(e){e.preventDefault(),window.open(""+this._getShareLink("twitter")+encodeURIComponent(location.href),"_blank")}},{key:"initGooglePlus",value:function(){var t=this;0<this.getGooglePlusElements().length&&Array.from(this.getGooglePlusElements()).forEach(function(e){e.addEventListener("click",t.googlePlusClick.bind(t))})}},{key:"googlePlusClick",value:function(e){e.preventDefault(),window.open(""+this._getShareLink("googleplus")+encodeURIComponent(location.href),"_blank")}},{key:"initEmail",value:function(){var t=this;0<this.getEmailElements().length&&Array.from(this.getEmailElements()).forEach(function(e){e.addEventListener("click",t.emailClick.bind(t))})}},{key:"emailClick",value:function(e){var t=["mailto:"],n=e.currentTarget.dataset;if(this.emailDefaults=Object.assign({},n,this.defaults.email),void 0===this.emailDefaults.recipient||""===this.emailDefaults.recipient)return!1;t.push(this.emailDefaults.recipient+"?");var i=!0,r=!1,a=void 0;try{for(var o,l=Object.entries(this.emailDefaults).reverse()[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value,c=_slicedToArray(s,2),u=c[0],h=c[1];switch(void 0!==n[u]&&(h=n[u]),u){case"cc":t.push("&cc="+h);break;case"bcc":t.push("&bcc="+h);break;case"subject":t.push("&subject="+encodeURIComponent(h));break;case"body":t.push("&body="+encodeURIComponent(h))}}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}location.href=t}}]),t}();